DELIMITER $$

DROP PROCEDURE IF EXISTS CalInterestUPD $$

CREATE PROCEDURE CalInterestUPD(IN ID INT)
BEGIN

    DECLARE Bal INT DEFAULT 0;
    DECLARE RateC FLOAT DEFAULT 0.0;
    DECLARE IR FLOAT DEFAULT 0;
    DECLARE TypeID FLOAT;

    SELECT Balance,Type_No INTO Bal , TypeID FROM Account WHERE ACC_No=ID;

    SELECT Rate INTO RateC FROM ACCType WHERE Type_No=TypeID;

    IF Bal>0 THEN
        SET IR = Bal * RateC/100;
        UPDATE Account SET Balance=Balance+IR WHERE ACC_No=ID;
    END IF;

END  $$

DELIMITER ;